<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Happy 20th Birthday, Vatraxaki MOU! 🐸💚</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    /* hide default cursor */
    body {
      font-family: 'Comic Sans MS', cursive;
      background: #e6fce4;
      color: #2d4c1e;
      overflow: hidden;
      cursor: none;
    }

    /* custom heart cursor */
    #heartCursor {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      font-size: 24px;
      color: #e25555;
      z-index: 9999;
      transform: translate(-50%, -50%);
      transition: transform 0.1s ease;
    }

    #canvas-container {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      z-index: 1;
      pointer-events: none;
    }
    #main-content {
      position: relative;
      z-index: 2;
    }

    /* chapters: keep original layout, add transform/opacity transitions */
    .chapter {
      display: none;
      height: 100vh;
      padding: 40px;
      text-align: center;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      transition: transform 0.5s ease, opacity 0.5s ease;
      opacity: 0;
    }
    .chapter.active {
      display: flex;
      opacity: 1;
      transform: translateX(0);
    }

    h1 {
      font-size: 2.5em;
      margin-bottom: 20px;
    }

    .reasons-list {
      text-align: left;
      margin: 0 auto 30px;
      font-size: 1.15em;
      max-width: 700px;
      background: #f7fff7;
      border-radius: 18px;
      padding: 24px;
      box-shadow: 0 2px 8px #0001;
    }
    .reasons-list p, .reasons-list li {
      margin-bottom: 10px;
      line-height: 1.5;
    }

    button {
      background: #98dd96;
      border: none;
      padding: 12px 24px;
      border-radius: 20px;
      font-size: 1em;
      cursor: pointer;
      transition: background 0.3s;
      margin: 10px;
      z-index: 3;
    }
    button:hover { background: #78c878; }

    .frog-emoji {
      font-size: 3em;
      margin-bottom: 10px;
      display: inline-block;
      transition: transform 0.3s;
      cursor: pointer;
      user-select: none;
    }
    .frog-emoji.hop {
      animation: hop 0.5s;
    }
    @keyframes hop {
      0% { transform: translateY(0); }
      50% { transform: translateY(-60px) scale(1.2); }
      100% { transform: translateY(0); }
    }

    #fly-game {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 20px;
    }
    #fly {
      font-size: 2em;
      cursor: pointer;
      position: relative;
      display: inline-block;
    }

    .milestones {
      text-align: left;
      margin: 0 auto 24px;
      font-size: 1.15em;
      max-width: 390px;
      background: #f7fff7;
      border-radius: 18px;
      padding: 20px 32px;
      box-shadow: 0 2px 8px #0001;
    }
    .milestones li:before {
      content: "•";
      color: #4e9c4f;
      display: inline-block;
      width: 1em;
      margin-left: -1em;
    }

    .gallery {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 18px;
      margin-bottom: 20px;
    }
    .gallery img {
      width: 180px;
      height: 140px;
      object-fit: cover;
      border-radius: 20px;
      border: 2px solid #98dd96;
      box-shadow: 0 2px 8px #0002;
    }

    #countdown {
      font-size: 2em;
      font-weight: bold;
      margin: 20px auto;
      color: #32732c;
      letter-spacing: 2px;
    }

    #confettiCanvas {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      pointer-events: none;
      z-index: 10;
      display: none;
    }

    #musicBtn {
      position: fixed;
      top: 15px; right: 15px;
      z-index: 1000;
      background: #e6fce4;
      border-radius: 50%;
      width: 48px; height: 48px;
      border: 2px solid #98dd96;
      font-size: 1.5em;
      cursor: pointer;
      box-shadow: 0 2px 8px #0001;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  </style>
  <!-- three.js, gsap, confetti -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>
  <!-- heart cursor element -->
  <div id="heartCursor">❤️</div>

  <div id="canvas-container"></div>
  <div id="main-content">
    <audio id="bgMusic" src="background-song.mp3" loop preload="auto"></audio>
    <button id="musicBtn" onclick="toggleMusic()">🎵</button>
    <audio id="frogSound" src="46241__esformouse__frog.wav" preload="auto"></audio>

    <!-- 1. Greeting -->
    <div class="chapter active" id="chapter-1">
      <div class="frog-emoji" id="greetingFrog" onclick="frogGreetingJump(this)">🐸</div>
      <h1>Happy 20th Birthday, Vatraxaki MOU 💚</h1>
      <div class="reasons-list">
        <p>My sweet Alisha,<br>
        Welcome to your magical frog birthday adventure!<br>
        Click the frog for a surprise 🐸💚</p>
      </div>
      <button onclick="nextChapter()">Next →</button>
    </div>

    <!-- 2. Fly Game -->
    <div class="chapter" id="chapter-2">
      <div class="frog-emoji" onclick="frogGreetingJump(this)">🐸</div>
      <h1>Let’s Play: Catch the Fly!</h1>
      <div id="fly-game">
        <span id="fly" onclick="catchFly()">🪰</span>
        <p id="fly-instr">Help Froggy catch the fly by clicking it!<br>(Even the happiest frogs need snacks!)</p>
      </div>
      <button id="flyNextBtn" style="display:none;" onclick="nextChapter()">Next →</button>
    </div>

    <!-- 3. Timeline -->
    <div class="chapter" id="chapter-3">
      <div class="frog-emoji" onclick="frogGreetingJump(this)">🌿</div>
      <h1>Our Timeline</h1>
      <ul class="milestones">
        <li><strong>Nov 7, 2024:</strong> We first texted 💫</li>
        <li><strong>Dec 23, 2024:</strong> We first met ❤️</li>
        <li><strong>Jan 19, 2024:</strong> We got in a Relationship 🥰</li>
      </ul>
      <p>Every milestone with you is a leap my heart will never forget, My blackberry. 🐸💌</p>
      <button onclick="nextChapter()">Next →</button>
    </div>

    <!-- 4. Love Notes -->
    <div class="chapter" id="chapter-4">
      <div class="frog-emoji" onclick="frogGreetingJump(this)">💌</div>
      <h1>Love Notes</h1>
      <div class="reasons-list">
        <p>Agapula mou, you are the lily pad my heart always returns to.<br>
        You are my brightest star, my sweetest dream, and my favorite adventure.<br>
        Thank you for being my calm in chaos, my laughter in silence, and my strength when I falter.<br>
        I don’t just love you—I’m endlessly grateful for you.<br>
        I love you with every ribbit, every giggle, and every leap, Vatraxaki MOU. 🐸🌹</p>
      </div>
      <button onclick="nextChapter()">Next →</button>
    </div>

    <!-- 5. Gallery -->
    <div class="chapter" id="chapter-5">
      <div class="frog-emoji" onclick="frogGreetingJump(this)">📸</div>
      <h1>Our Memories</h1>
      <div class="gallery">
        <img src="your-photo1.jpg" alt="Memory 1"/>
        <img src="your-photo2.jpg" alt="Memory 2"/>
        <img src="your-photo3.jpg" alt="Memory 3"/>
        <img src="your-photo4.jpg" alt="Memory 4"/>
      </div>
      <p>Every moment with you is a treasure.<br><em>Here’s to many more memories, my love!</em></p>
      <button onclick="nextChapter()">Next →</button>
    </div>

    <!-- 6. Reasons & Song -->
    <div class="chapter" id="chapter-6">
      <div class="frog-emoji" onclick="frogGreetingJump(this)">🎵</div>
      <h1>10 Reasons You are the Coolest Girlfriend</h1>
      <ul class="reasons-list">
        <li>1. Your laugh makes my world brighter.</li>
        <li>2. You are sweet and kind.</li>
        <li>3. Your hugs feel like home.</li>
        <li>4. Your smile can fix any bad day.</li>
        <li>5. You make every ordinary moment extraordinary.</li>
        <li>6. You’re smart, silly, and beautiful inside and out.</li>
        <li>7. You support me, dream with me, and challenge me.</li>
        <li>8. You are hardworking and you never give up.</li>
        <li>9. With you, I can always be myself.</li>
        <li>10. You always try to improve even on things you don't like. 💚</li>
      </ul>
      <button onclick="toggleSong()">Play Our Song 🎶</button>
      <audio id="song" src="Project Name-VEED.mp3"></audio>
      <button onclick="nextChapter()">Next →</button>
    </div>

    <!-- 7. Final & Countdown -->
    <div class="chapter" id="chapter-7">
      <div class="frog-emoji" onclick="frogGreetingJump(this)">🎂</div>
      <h1>Happy Birthday, Vatraxaki MOU!</h1>
      <div class="reasons-list">
        <p>My love, I hope you have an amazing birthday even without me and may this year bring us more giggles, more adventures, and more cuddles.<br>
        No matter where you are, my heart is always hugging you.<br>
        Next hug in:</p>
        <div id="countdown"></div>
        <audio id="birthdaySong" src="happy-birthday-music-300687.mp3"></audio>
        <p>I love you more every hop of the way.<br><strong>Forever your Dura 🐸❤️</strong></p>
      </div>
      <canvas id="confettiCanvas"></canvas>
      <button id="celebrateBtn">Celebrate 🎉</button>
      <button onclick="restart()">Hop Again 🔀</button>
    </div>
  </div>

  <script>
    // heart cursor
    const heart = document.getElementById('heartCursor');
    document.addEventListener('mousemove', e => {
      heart.style.left = e.clientX + 'px';
      heart.style.top = e.clientY + 'px';
    });

    // state
    let current = 1, songPlaying = false, musicPlaying = false;
    const frogName = "Froggy", musicBtn = document.getElementById('musicBtn');
    const nextHugDate = new Date("2025-09-20T18:00:00");
    window.addEventListener('DOMContentLoaded', ()=> musicBtn.textContent = '🎵');

    // slide between chapters
    function nextChapter() {
      const currEl = document.getElementById(`chapter-${current}`);
      const nextEl = document.getElementById(`chapter-${current+1}`);

      // slide out current to left
      gsap.to(currEl, {
        x: -window.innerWidth,
        opacity: 0,
        duration: 0.6,
        ease: "power2.inOut",
        onComplete: () => {
          currEl.classList.remove('active');
          gsap.set(currEl, { x: 0, opacity: 1 });
        }
      });

      // prepare & slide in next from right
      gsap.set(nextEl, { x: window.innerWidth, opacity: 0 });
      nextEl.classList.add('active');
      gsap.to(nextEl, {
        x: 0,
        opacity: 1,
        duration: 0.6,
        ease: "power2.inOut",
        onComplete: () => {
          current++;
          if (current === 2) startFlyGame();
          if (current === 7) {
            showConfetti();
            startCountdown();
            playBirthdaySong();
          }
        }
      });
    }

    // restart sequence
    function restart() {
      const currEl = document.getElementById(`chapter-${current}`);
      const firstEl = document.getElementById('chapter-1');

      // slide out current to right
      gsap.to(currEl, {
        x: window.innerWidth,
        opacity: 0,
        duration: 0.6,
        ease: "power2.inOut",
        onComplete: () => {
          currEl.classList.remove('active');
          gsap.set(currEl, { x: 0, opacity: 1 });
          current = 1;

          // slide in first from left
          gsap.set(firstEl, { x: -window.innerWidth, opacity: 0 });
          firstEl.classList.add('active');
          gsap.to(firstEl, {
            x: 0,
            opacity: 1,
            duration: 0.6,
            ease: "power2.inOut",
            onComplete: () => {
              hideConfetti();
              stopSong();
            }
          });
        }
      });
    }

    // frog hop
    function frogGreetingJump(el) {
      el.classList.add('hop');
      setTimeout(() => el.classList.remove('hop'), 500);
      const audio = document.getElementById('frogSound');
      audio.currentTime = 0; audio.play();
      if (!musicPlaying) toggleMusic();
    }

    // fly game
    function startFlyGame() {
      document.getElementById('flyNextBtn').style.display = 'none';
      document.getElementById('fly').style.display = 'inline-block';
      document.getElementById('fly-instr').style.display = 'block';
      moveFly();
    }
    function moveFly() {
      const fly = document.getElementById('fly');
      fly.style.position = 'absolute';
      fly.style.left = (50 + Math.random()*400) + 'px';
      fly.style.top = (100 + Math.random()*200) + 'px';
    }
    function catchFly() {
      document.getElementById('fly').style.display = 'none';
      document.getElementById('fly-instr').textContent = `${frogName} caught the fly! Yum! 🐸🪰`;
      document.getElementById('flyNextBtn').style.display = 'inline-block';
    }

    // song toggle
    function toggleSong() {
      const song = document.getElementById('song'),
            bg = document.getElementById('bgMusic');
      if (!songPlaying) {
        if (bg && !bg.paused) bg.pause();
        song.play(); songPlaying = true;
      } else {
        song.pause(); song.currentTime = 0; songPlaying = false;
        if (bg && musicPlaying) bg.play();
      }
    }
    function stopSong() {
      const song = document.getElementById('song');
      song.pause(); song.currentTime = 0; songPlaying = false;
    }

    // music toggle
    function toggleMusic() {
      const music = document.getElementById('bgMusic');
      if (!musicPlaying) {
        music.play(); musicPlaying = true; musicBtn.textContent = '⏸️';
      } else {
        music.pause(); musicPlaying = false; musicBtn.textContent = '🎵';
      }
    }

    // birthday song
    function playBirthdaySong() {
      const s = document.getElementById('birthdaySong');
      s.currentTime = 0; s.play();
    }
    function stopBirthdaySong() {
      const s = document.getElementById('birthdaySong');
      s.pause(); s.currentTime = 0;
    }

    // confetti
    function showConfetti() {
      document.getElementById('confettiCanvas').style.display = 'block';
    }
    function hideConfetti() {
      document.getElementById('confettiCanvas').style.display = 'none';
    }

    // countdown
    function startCountdown() {
      updateCountdown();
      setInterval(updateCountdown, 1000);
    }
    function updateCountdown() {
      const now = new Date();
      let diff = Math.floor((nextHugDate - now) / 1000);
      diff = diff < 0 ? 0 : diff;
      const d = Math.floor(diff / 86400),
            h = Math.floor((diff % 86400) / 3600),
            m = Math.floor((diff % 3600) / 60),
            s = diff % 60;
      document.getElementById('countdown').textContent =
        `${d}d ${h}h ${m}m ${s}s`;
    }

    // celebrate button
    document.getElementById('celebrateBtn').addEventListener('click', () => {
      confetti({
        particleCount: 150,
        spread: 70,
        origin: { y: 0.6 },
        colors: ['#98dd96','#4e9c4f','#78c878']
      });
      frogs.forEach(f => {
        gsap.to(f.position, {
          y: f.position.y + 20,
          duration: 2,
          ease: "power1.out"
        });
        gsap.to(f.material, {
          opacity: 0,
          duration: 2,
          ease: "power1.out"
        });
      });
    });

    // 3D frog background
    const container = document.getElementById('canvas-container');
    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    container.appendChild(renderer.domElement);

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(
      75, window.innerWidth/window.innerHeight, 0.1, 1000
    );
    camera.position.z = 30;

    function createEmojiTexture(emoji) {
      const canvas = document.createElement('canvas');
      canvas.width = canvas.height = 128;
      const ctx = canvas.getContext('2d');
      ctx.font = '100px serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(emoji, 64, 64);
      return new THREE.CanvasTexture(canvas);
    }
    const frogTexture = createEmojiTexture('🐸');

    scene.add(new THREE.AmbientLight(0xffffff, 0.5));
    const dirLight = new THREE.DirectionalLight(0xffffff, 0.8);
    dirLight.position.set(1,1,1);
    scene.add(dirLight);

    const frogs = [];
    for (let i = 0; i < 25; i++) {
      const mat = new THREE.SpriteMaterial({
        map: frogTexture,
        transparent: true,
        opacity: 0.9
      });
      const spr = new THREE.Sprite(mat);
      spr.position.set(
        (Math.random()-0.5)*50,
        (Math.random()-0.5)*50,
        (Math.random()-0.5)*50
      );
      const s = Math.random()*1.2 + 0.8;
      spr.scale.set(s*2, s*2, 1);
      spr.userData = {
        speedX: Math.random()*0.02 - 0.01,
        speedY: Math.random()*0.02 - 0.01,
        speedZ: Math.random()*0.02 - 0.01,
        rotationSpeed: Math.random()*0.01,
        originalX: spr.position.x,
        originalY: spr.position.y,
        originalZ: spr.position.z,
        floatDist: 2 + Math.random()*3
      };
      scene.add(spr);
      frogs.push(spr);
    }

    function animate() {
      requestAnimationFrame(animate);
      const t = Date.now() * 0.001;
      frogs.forEach(f => {
        f.position.x = f.userData.originalX +
          Math.sin(t * f.userData.speedX * 10) * f.userData.floatDist;
        f.position.y = f.userData.originalY +
          Math.sin(t * f.userData.speedY * 10) * f.userData.floatDist;
        f.position.z = f.userData.originalZ +
          Math.sin(t * f.userData.speedZ * 10) * f.userData.floatDist;
        f.rotation.z += f.userData.rotationSpeed;
      });
      renderer.render(scene, camera);
    }
    animate();

    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth/window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
</body>
</html>
